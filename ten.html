<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Ladder Rules - Brad Tennis Ladder App</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">Manage Ladder Rules</h1>
        <form id="rulesForm">
            <div class="form-group">
                <label for="rules">Ladder Rules</label>
                <textarea class="form-control" id="rules" rows="10" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Save Rules</button>
        </form>
        <div id="rulesMessage" class="mt-3"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Sample data - replace this with actual server data
            const rules = `1. Eligibility: All club Tennis members are eligible to participate in the ladder.
2. Ranking: Players self-rank using their USTA ranking. For doubles, the combined ranking of the team cannot exceed 8.0.
3. Challenges: Players can challenge other singles players or double teams up to three spots above them in the ladder.
4. Match Scheduling: Players have two weeks to schedule and complete their matches after a challenge is accepted.
5. Match Format: Matches are be played as the best of two sets.
6. Scoring: Matches should be scored using standard tennis scoring (e.g., 6-4, 7-5).
7. Reporting: The winner of the match is responsible for reporting the result to the ladder coordinator within 24 hours of the match being completed.`;

            document.getElementById('rules').value = rules;

            document.getElementById('rulesForm').addEventListener('submit', function(event) {
                event.preventDefault();

                const updatedRules = document.getElementById('rules').value;
                console.log('Updated rules submitted:', updatedRules);
                // Replace the following line with an actual server request
                // Example: sendRulesToServer(updatedRules);

                // Simulate server response
                setTimeout(() => {
                    document.getElementById('rulesMessage').innerText = 'Ladder rules updated successfully!';
                    document.getElementById('rulesMessage').classList.add('alert', 'alert-success');
                }, 1000);
            });

            // Example function to send updated rules to server (to be implemented)
            function sendRulesToServer(rules) {
                fetch('/update-rules', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ rules }),
                })
                .then(response => response.json())
                .then(result => {
                    document.getElementById('rulesMessage').innerText = 'Ladder rules updated successfully!';
                    document.getElementById('rulesMessage').classList.add('alert', 'alert-success');
                })
                .catch(error => {
                    document.getElementById('rulesMessage').innerText = 'Error updating ladder rules. Please try again.';
                    document.getElementById('rulesMessage').classList.add('alert', 'alert-danger');
                });
            }
        });
    </script>
</body>
</html>
